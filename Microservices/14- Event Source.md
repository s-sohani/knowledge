یکی از محبوب ترین الگوها در ذخیره و بازیابی هست. ولی پیچیدگی های زیادی هم داره. ولی یه سری جاها مناسبه که state نهایی رو نگهداریم ولی یه سری جاها مناسبه که event ها رو ذخیره کنیم. این روش بیشتر میگه من کوئری های command رو پوشش میدم برای کوئری های read از روش دیگه استفاده کن. 

ما تا الان وضعیت نهایی اشیا رو نگهداری میکردیم. اگر این وضعیت عوض بشه ما فقط وضعیت نهایی رو نگهداری میکنیم و نمیدونیم چطوری عوض شده یا اینکه برگردیم به قبلی. 

مثال از دنیای واقعی: یکی از اتفاق هایی که در دنیای واقعی میفته باز کردن حساب بانکی هست. ما چیزی به اسم موجودی نداریم بلکه مجموع واریز و برداشت داریم. و در نهایت با مجموع این دوتا میرسیم به موجودی. 

دست آورد نگهداری event stream:
1- دستاورد temporal query: یعنی کوئری وابسته به زمان. در هر لحظه از زمان چه اتفاقی افتاده.
2- دستاورد projection: ممکنه گاهی با یک aggregate کار نکنیم و روی چند aggregate کوئری بزنیم و تجمیع کنیم. در این صورت از projection باید استفاده کنیم. 
3- دست آورد snapshot: مثلا بانکی یک سال کار میکنه و سر سال که میرسه سال مالی رو میبندن. مثلا شرکت ها هم سال مالی دارن و میگن حاصل این یک سال شد این حالا از این به بعد با این عدد کار کن و حاصل جمع رکورد ها رو با این عدد جمع کن تا به عدد نهایی برسی. چون اگر دیتا خیلی بزرگ بشه کار کردن باهاش سخت میشه. 

ارتباط event source و aggregate 
تا الان به پایگاه داده وضعیت نهایی  رو میدادیم و
