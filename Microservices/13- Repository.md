میخوایم بدون اینکه ادبیات domain model  عوض بشه یا ترکیب بشه با زیر ساخت و ذخیره و بازیابی در ارتباط باشیم 

کلا repository یک واسطه ای هست که وقتی داریم با  repository کار میکنیم انگار داریم با یک collection عادی کار میکنیم و کاربر یا توسعه دهنده حس نمیکنه با دیتابیس کار داره و حس کار با Collection بهش میده
مسئولیت دومش اینه که مدل داده رو از مدل اپلیکیشن جدا میکنه. کار تبدیل domain model به Data model رو هم وظیفه repository هست. رفع مشکلات transaction  و همزمانی و اینا همه رو از لایه domain model میپوشونه. 
یک repository برای یک aggregate تعریف میشه اون هم برای Aggregate root
کلا یک facade ای هست که جزییات پیاده سازی زیر ساخت رو پنهان میکنه و انگار ما با یک in memory collection داریم کار میکنیم
فانکشن های repository باید با ادبیان دامنه بخونه مثلا اگر کاربر تایید شده رو میخوایم از دیتابیس بخونیم نمیگیم selectFromCustomerTable بلکه میگیم getActivatedCustomers 
چون ادبیان دامنه هست تو لایه دامنه باید interface آن نوشته بشه و تو لایه repository پیاده سازی آن تایین میشه
استفاده کننده repository بخش application service هست. 

برداشت اشتباه repository
1- با وجود ORM یک لایه اضافه هست. 
2- با اضافه کردن این لایه پیچیدگی زیاد میشه

آیا repository یک ضد الگو هست؟ 
اگر مثلا از EF به عنوان Core استفاده کنیم چند ایراد داره
اینکه دسترسی توسعه دهنده باز نباشه در هر جای نرم افزار یک نکته مثبت هست. و باعث میشه قواعد بهتر کنترل شود. 
نام گذاری بهتر و مطابق با دامنه انجام میشه ولی اگر استفاده نکنیم از نام گذاری خود EF باید استفاده کنیم و نگهداریش سخت میشه. 

دست آورد استفاده repository
نوشتن تست های راحت تر
سادگی در جایگزینی زیر ساخت
با ادبیات دامنه  میتونیم با زیرساخت صحبت کنیم 

آیا repository همه جا کاربرد دارند؟
 ما دو نوع اپلیکیشن داریم. پیچیده و ساده. اگر اپلیکیشن ساده باشه و فقط CRUD بزنه دیگه نیازی به 